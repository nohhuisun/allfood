<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼€ì–´ë°€ - ìš°ë¦¬ ê°€ì¡± ë§ì¶¤ ì‹ë‹¨ ê´€ë¦¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 14px;
            color: #6c757d;
            transition: all 0.3s;
        }

        .tab.active {
            color: #667eea;
            background: white;
            font-weight: bold;
        }

        .content {
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .camera-box {
            background: #f8f9fa;
            border: 3px dashed #667eea;
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .camera-box:hover {
            background: #e9ecef;
            transform: scale(1.02);
        }

        .camera-icon {
            font-size: 60px;
            margin-bottom: 15px;
        }

        .tips {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .tips h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .tips ul {
            list-style: none;
            color: #856404;
            font-size: 13px;
        }

        .tips li {
            margin: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .tips li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
        }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #495057;
            margin-top: 10px;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 13px;
            width: auto;
            display: inline-block;
        }

        .ingredients-list {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            margin-top: 10px;
        }

        .ingredients-list h4 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #495057;
        }

        .ingredient-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 13px;
            padding: 10px;
            background: white;
            border-radius: 10px;
        }

        .ingredient-check {
            width: 20px;
            height: 20px;
            border: 2px solid #28a745;
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #28a745;
            font-weight: bold;
            flex-shrink: 0;
        }

        .add-ingredient-form {
            background: white;
            padding: 15px;
            border-radius: 15px;
            margin-top: 15px;
            border: 2px dashed #667eea;
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            font-size: 13px;
            color: #495057;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 14px;
        }

        .input-row {
            display: flex;
            gap: 10px;
        }

        .input-row input {
            flex: 2;
        }

        .input-row input[type="number"] {
            flex: 1;
        }

        .input-row select {
            flex: 1;
        }

        .alert {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #0c5460;
        }

        .alert.success {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .alert.warning {
            background: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }

        input[type="file"] {
            display: none;
        }

        .family-selector {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .family-members-scroll {
            flex: 1;
            overflow-x: auto;
            white-space: nowrap;
            margin-right: 10px;
        }

        .member-pill {
            display: inline-block;
            background: #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            margin-right: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .member-pill.active {
            background: #667eea;
            color: white;
        }

        .dropdown-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
        }

        .member-detail {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-section h4 {
            font-size: 14px;
            color: #667eea;
            margin-bottom: 8px;
        }

        .detail-item {
            background: white;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .detail-item label {
            display: block;
            color: #6c757d;
            font-size: 12px;
            margin-bottom: 3px;
        }

        .detail-item-row {
            display: flex;
            gap: 10px;
        }

        .detail-item-row select, .detail-item-row input {
            flex: 1;
            padding: 8px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-size: 13px;
        }

        .recipe-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .recipe-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .recipe-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .recipe-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #212529;
        }

        .recipe-image {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
        }

        .recipe-meta {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .meta-tag {
            background: #e9ecef;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            color: #495057;
        }

        .meta-tag.good {
            background: #d4edda;
            color: #155724;
        }

        .meta-tag.warning {
            background: #fff3cd;
            color: #856404;
        }

        .recommendation-note {
            background: #e7f3ff;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 13px;
            color: #495057;
        }

        .profile-card {
            background: white;
            border: 2px solid #e9ecef;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 15px;
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .profile-name {
            font-size: 20px;
            font-weight: bold;
            color: #212529;
        }

        .profile-icon {
            font-size: 40px;
        }

        .profile-info-grid {
            display: grid;
            gap: 10px;
        }

        .info-box {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 10px;
        }

        .info-box-title {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .info-box-content {
            font-size: 14px;
            color: #212529;
            font-weight: 500;
        }

        .meal-history {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            margin-top: 15px;
        }

        .meal-history h4 {
            font-size: 14px;
            color: #495057;
            margin-bottom: 10px;
        }

        .meal-time-slot {
            background: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .meal-time-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .meal-time-title {
            font-weight: bold;
            color: #495057;
        }

        .meal-calories {
            color: #667eea;
            font-weight: bold;
        }

        .meal-items {
            font-size: 12px;
            color: #6c757d;
        }

        .stats-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
        }

        .stats-row {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.9;
            margin-top: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 20px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ½ï¸ ì¼€ì–´ë°€</h1>
            <p>ìš°ë¦¬ ê°€ì¡± ë§ì¶¤ ê±´ê°• ì‹ë‹¨ ê´€ë¦¬</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showScreen('scan')">ëƒ‰ì¥ê³  ìŠ¤ìº”</button>
            <button class="tab" onclick="showScreen('recipe')">ì˜¤ëŠ˜ ì‹ë‹¨</button>
            <button class="tab" onclick="showScreen('diary')">ì‹ì‚¬ ê¸°ë¡</button>
            <button class="tab" onclick="showScreen('profile')">í”„ë¡œí•„</button>
        </div>

        <div class="content">
            <!-- ëƒ‰ì¥ê³  ìŠ¤ìº” í™”ë©´ -->
            <div class="screen active" id="scan">
                <div class="camera-box" onclick="document.getElementById('fileInput').click()">
                    <div class="camera-icon">ğŸ“·</div>
                    <h3>ëƒ‰ì¥ê³ ë¥¼ ì´¬ì˜í•´ì£¼ì„¸ìš”</h3>
                    <p style="color: #6c757d; font-size: 14px; margin-top: 10px;">
                        ì¹¸ë³„ë¡œ ë‚˜ëˆ  ì°ìœ¼ë©´ ì¸ì‹ë¥ ì´ ì¢‹ì•„ìš”
                    </p>
                </div>
                <input type="file" id="fileInput" accept="image/*" capture="environment" onchange="handleImageUpload(event)">

                <div class="tips">
                    <h4>ğŸ’¡ ì´¬ì˜ íŒ</h4>
                    <ul>
                        <li>ëƒ‰ì¥ê³  ì¡°ëª…ì„ ì¼œê³  ì°ì–´ì£¼ì„¸ìš”</li>
                        <li>ì¬ë£Œê°€ ê²¹ì¹˜ì§€ ì•Šê²Œ ë°°ì¹˜í•´ì£¼ì„¸ìš”</li>
                        <li>ëƒ‰ì¥ì‹¤, ëƒ‰ë™ì‹¤ì„ ë”°ë¡œ ì´¬ì˜í•˜ì„¸ìš”</li>
                        <li>ìœ í†µê¸°í•œì´ ë³´ì´ë©´ ë” ì •í™•í•´ìš”</li>
                    </ul>
                </div>

                <button class="btn btn-primary" onclick="simulateScan()">
                    ğŸ“¸ ëƒ‰ì¥ê³  ì´¬ì˜í•˜ê¸°
                </button>
                <button class="btn btn-secondary">
                    ğŸ“ ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ
                </button>

                <div id="scanResult" style="display: none; margin-top: 20px;">
                    <div class="alert success">
                        âœ“ ëƒ‰ì¥ê³  ë¶„ì„ ì™„ë£Œ! 5ê°œ ì¬ë£Œë¥¼ ì¸ì‹í–ˆì–´ìš”
                    </div>
                    
                    <div class="ingredients-list">
                        <h4>âœ… ë³´ìœ  ì¬ë£Œ</h4>
                        <div class="ingredient-item">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <div class="ingredient-check">âœ“</div>
                                <span>ë‹­ê°€ìŠ´ì‚´</span>
                            </div>
                            <span style="color: #667eea; font-weight: bold;">400g</span>
                        </div>
                        <div class="ingredient-item">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <div class="ingredient-check">âœ“</div>
                                <span>ë¸Œë¡œì½œë¦¬</span>
                            </div>
                            <span style="color: #667eea; font-weight: bold;">1ê°œ</span>
                        </div>
                        <div class="ingredient-item">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <div class="ingredient-check">âœ“</div>
                                <span>ë‹¹ê·¼</span>
                            </div>
                            <span style="color: #667eea; font-weight: bold;">2ê°œ</span>
                        </div>
                        <div class="ingredient-item">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <div class="ingredient-check">âœ“</div>
                                <span>ì–‘íŒŒ</span>
                            </div>
                            <span style="color: #667eea; font-weight: bold;">3ê°œ</span>
                        </div>
                        <div class="ingredient-item">
                            <div style="display: flex; align-items: center; flex: 1;">
                                <div class="ingredient-check">âœ“</div>
                                <span>ê³„ë€</span>
                            </div>
                            <span style="color: #667eea; font-weight: bold;">6ê°œ</span>
                        </div>
                    </div>

                    <div class="add-ingredient-form">
                        <h4 style="margin-bottom: 15px; color: #495057;">â• ì¬ë£Œ ì§ì ‘ ì¶”ê°€í•˜ê¸°</h4>
                        
                        <div class="input-group">
                            <label>ì¬ë£Œ ì´ë¦„</label>
                            <input type="text" id="ingredientName" placeholder="ì˜ˆ: ë‘ë¶€, ì‹œê¸ˆì¹˜, ê³ ë“±ì–´">
                        </div>

                        <div class="input-group">
                            <label>ìˆ˜ëŸ‰ ë° ë‹¨ìœ„</label>
                            <div class="input-row">
                                <input type="number" id="ingredientAmount" placeholder="ìˆ˜ëŸ‰" min="0" step="0.1">
                                <select id="ingredientUnit">
                                    <option value="ê°œ">ê°œ</option>
                                    <option value="kg">kg</option>
                                    <option value="g">g</option>
                                    <option value="L">L</option>
                                    <option value="ml">ml</option>
                                    <option value="ë‹¨">ë‹¨</option>
                                    <option value="ë§ˆë¦¬">ë§ˆë¦¬</option>
                                    <option value="ë´‰ì§€">ë´‰ì§€</option>
                                    <option value="íŒ©">íŒ©</option>
                                    <option value="ëª¨">ëª¨</option>
                                    <option value="ì»µ">ì»µ</option>
                                    <option value="ìŠ¤í‘¼">ìŠ¤í‘¼</option>
                                </select>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="addIngredient()">
                            ì¶”ê°€í•˜ê¸°
                        </button>
                    </div>

                    <button class="btn btn-primary" onclick="showScreen('recipe')" style="margin-top: 20px;">
                        ğŸ³ ì˜¤ëŠ˜ ì‹ë‹¨ ì¶”ì²œ ë°›ê¸°
                    </button>
                </div>
            </div>

            <!-- ì˜¤ëŠ˜ ì‹ë‹¨ í™”ë©´ -->
            <div class="screen" id="recipe">
                <div class="family-selector">
                    <div class="family-members-scroll">
                        <span class="member-pill active" onclick="selectMember(this, 'mother')">ğŸ‘µ ì–´ë¨¸ë‹ˆ</span>
                        <span class="member-pill" onclick="selectMember(this, 'father')">ğŸ‘¨ ì•„ë²„ì§€</span>
                        <span class="member-pill" onclick="selectMember(this, 'wife')">ğŸ‘© ë©°ëŠë¦¬</span>
                    </div>
                    <button class="dropdown-btn" onclick="openMemberModal()">+</button>
                </div>

                <div class="member-detail" id="memberDetail">
                    <div class="detail-section">
                        <h4>ğŸ“Š ì˜¤ëŠ˜ ì»¨ë””ì…˜</h4>
                        <div class="detail-item">
                            <div class="detail-item-row">
                                <select id="condition">
                                    <option>ì¢‹ìŒ</option>
                                    <option>ë³´í†µ</option>
                                    <option>í”¼ê³¤í•¨</option>
                                    <option>ì»¨ë””ì…˜ ì•ˆì¢‹ìŒ</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>ğŸƒ ìš´ë™ëŸ‰</h4>
                        <div class="detail-item">
                            <label>ì˜¤ëŠ˜ í™œë™</label>
                            <div class="detail-item-row">
                                <select id="exercise">
                                    <option>ì•ˆ í•¨</option>
                                    <option>ê°€ë²¼ìš´ ì‚°ì±… (30ë¶„)</option>
                                    <option>ì¤‘ê°„ ìš´ë™ (1ì‹œê°„)</option>
                                    <option>ê²©ë ¬í•œ ìš´ë™ (1ì‹œê°„+)</option>
                                </select>
                            </div>
                        </div>
                        <div class="detail-item">
                            <label>ì†Œëª¨ ì¹¼ë¡œë¦¬</label>
                            <input type="number" placeholder="ì˜ˆ: 150" style="width: 100%; padding: 8px; border: 1px solid #e9ecef; border-radius: 8px;">
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>ğŸ½ï¸ ì˜¤ëŠ˜ ì‹ì‚¬ ê¸°ë¡</h4>
                        <div class="detail-item">
                            <label>ì•„ì¹¨</label>
                            <div class="detail-item-row">
                                <input type="text" placeholder="ë©”ë‰´ ì…ë ¥" id="breakfast">
                                <input type="number" placeholder="ì¹¼ë¡œë¦¬" style="width: 80px;">
                            </div>
                        </div>
                        <div class="detail-item">
                            <label>ì ì‹¬</label>
                            <div class="detail-item-row">
                                <input type="text" placeholder="ë©”ë‰´ ì…ë ¥" id="lunch" value="ì‚¼ê²¹ì‚´ 200g, ì†Œì£¼ 2ì”">
                                <input type="number" placeholder="ì¹¼ë¡œë¦¬" value="900" style="width: 80px;">
                            </div>
                        </div>
                        <div class="detail-item">
                            <label>ê°„ì‹</label>
                            <div class="detail-item-row">
                                <input type="text" placeholder="ë©”ë‰´ ì…ë ¥" id="snack">
                                <input type="number" placeholder="ì¹¼ë¡œë¦¬" style="width: 80px;">
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="generateRecommendation()">
                        ğŸ¯ ë§ì¶¤ ë©”ë‰´ ì¶”ì²œë°›ê¸°
                    </button>
                </div>

                <div id="recommendationArea" style="display: none; margin-top: 20px;">
                    <div class="alert warning">
                        âš ï¸ ì ì‹¬ì— ê³ ì¹¼ë¡œë¦¬ ì‹ì‚¬ë¥¼ í•˜ì…¨ë„¤ìš”. ì €ë…ì€ ê°€ë³ê²Œ ì¶”ì²œë“œë ¤ìš”!
                    </div>

                    <h3 style="margin-bottom: 15px; color: #495057;">ì¶”ì²œ ë©”ë‰´ (3ê°€ì§€)</h3>

                    <div class="recipe-card" onclick="selectRecipe(this, 1)">
                        <div class="recipe-image">ğŸ¥—</div>
                        <div class="recipe-title">ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ</div>
                        <div class="recipe-meta">
                            <span class="meta-tag good">í˜ˆë‹¹ ì˜í–¥ ë‚®ìŒ</span>
                            <span class="meta-tag">ë‹¨ë°±ì§ˆ 25g</span>
                            <span class="meta-tag good">ì¹¼ë¡œë¦¬ 280kcal</span>
                        </div>
                        <div class="recommendation-note">
                            ğŸ’¡ ì ì‹¬ ê³¼ì‹ì„ ê³ ë ¤í•´ ì €ì¹¼ë¡œë¦¬ ì‹ë‹¨ì„ ì¶”ì²œí•©ë‹ˆë‹¤. ë‹¹ë‡¨ì—ë„ ì•ˆì „í•˜ê³  ì˜ì–‘ì†Œê°€ ê· í˜•ì¡íŒ ë©”ë‰´ì—ìš”.
                        </div>
                    </div>

                    <div class="recipe-card" onclick="selectRecipe(this, 2)">
                        <div class="recipe-image">ğŸ²</div>
                        <div class="recipe-title">ë‘ë¶€ ì•¼ì±„ì°Œê°œ</div>
                        <div class="recipe-meta">
                            <span class="meta-tag good">í˜ˆë‹¹ ì˜í–¥ ë‚®ìŒ</span>
                            <span class="meta-tag">ë‹¨ë°±ì§ˆ 18g</span>
                            <span class="meta-tag">ì¹¼ë¡œë¦¬ 320kcal</span>
                        </div>
                        <div class="recommendation-note">
                            ğŸ’¡ ë”°ëœ»í•œ êµ­ë¬¼ ìš”ë¦¬ë¡œ í¬ë§Œê°ì´ ì¢‹ì•„ìš”. ë‚˜íŠ¸ë¥¨ì„ ì¤„ì¸ ë ˆì‹œí”¼ì…ë‹ˆë‹¤.
                        </div>
                    </div>

                    <div class="recipe-card" onclick="selectRecipe(this, 3)">
                        <div class="recipe-image">ğŸ—</div>
                        <div class="recipe-title">ë‹­ê°€ìŠ´ì‚´ ì•¼ì±„ë³¶ìŒ</div>
                        <div class="recipe-meta">
                            <span class="meta-tag good">í˜ˆë‹¹ ì˜í–¥ ì¤‘ê°„</span>
                            <span class="meta-tag">ë‹¨ë°±ì§ˆ 30g</span>
                            <span class="meta-tag warning">ì¹¼ë¡œë¦¬ 400kcal</span>
                        </div>
                        <div class="recommendation-note">
                            ğŸ’¡ ë‹¨ë°±ì§ˆì´ í’ë¶€í•œ ë©”ë‰´ì…ë‹ˆë‹¤. ì ì‹¬ ê³¼ì‹ìœ¼ë¡œ ì¹¼ë¡œë¦¬ê°€ ì•½ê°„ ë†’ì„ ìˆ˜ ìˆì–´ìš”.
                        </div>
                    </div>

                    <div id="selectedRecipeDetail" style="display: none; margin-top: 20px;">
                        <div class="alert success">
                            âœ“ ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤!
                        </div>
                        <button class="btn btn-primary">ğŸ³ ìš”ë¦¬ ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>

            <!-- ì‹ì‚¬ ê¸°ë¡ í™”ë©´ -->
            <div class="screen" id="diary">
                <div class="family-selector" style="margin-bottom: 20px;">
                    <div class="family-members-scroll">
                        <span class="member-pill active" onclick="showDiary(this, 'mother')">ğŸ‘µ ì–´ë¨¸ë‹ˆ</span>
                        <span class="member-pill" onclick="showDiary(this, 'father')">ğŸ‘¨ ì•„ë²„ì§€</span>
                        <span class="member-pill" onclick="showDiary(this, 'wife')">ğŸ‘© ë©°ëŠë¦¬</span>
                    </div>
                </div>

                <div id="diaryContent">
                    <div class="stats-summary">
                        <h3 style="margin-bottom: 5px;">ğŸ‘µ ì–´ë¨¸ë‹ˆ - ì˜¤ëŠ˜ì˜ ì‹ì‚¬</h3>
                        <p style="font-size: 12px; opacity: 0.9;">2024ë…„ 11ì›” 19ì¼</p>
                        <div class="stats-row">
                            <div class="stat-item">
                                <div class="stat-value">1,240</div>
                                <div class="stat-label">ì„­ì·¨ ì¹¼ë¡œë¦¬</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">760</div>
                                <div class="stat-label">ë‚¨ì€ ì¹¼ë¡œë¦¬</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">62%</div>
                                <div class="stat-label">ëª©í‘œ ë‹¬ì„±</div>
                            </div>
                        </div>
                    </div>

                    <div class="meal-history">
                        <h4>ì˜¤ëŠ˜ ì‹ì‚¬ ë‚´ì—­</h4>
                        
                        <div class="meal-time-slot">
                            <div class="meal-time-header">
                                <span class="meal-time-title">ğŸŒ… ì•„ì¹¨ (8:00)</span>
                                <span class="meal-calories">340 kcal</span>
                            </div>
                            <div class="meal-items">ì£½ 1ê·¸ë¦‡, ê¹€ì¹˜</div>
                            <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid #f8f9fa; font-size: 11px; color: #6c757d;">
                                íƒ„ìˆ˜í™”ë¬¼ 40g Â· ë‹¨ë°±ì§ˆ 8g Â· ë‚˜íŠ¸ë¥¨ 800mg
                            </div>
                        </div>

                        <div class="meal-time-slot">
                            <div class="meal-time-header">
                                <span class="meal-time-title">ğŸŒ ì ì‹¬ (12:30)</span>
                                <span class="meal-calories" style="color: #dc3545;">900 kcal</span>
                            </div>
                            <div class="meal-items">ì‚¼ê²¹ì‚´ 200g, ì†Œì£¼ 2ì”, ëœì¥ì°Œê°œ</div>
                            <div style="margin-top: 8px; padding: 8px; background: #fff3cd; border-radius: 8px; font-size: 12px; color: #856404;">
                                âš ï¸ ê³¼ì‹ ì£¼ì˜! í‰ì†Œë³´ë‹¤ 300kcal ì´ˆê³¼
                            </div>
                        </div>

                        <div class="meal-time-slot" style="border: 2px dashed #dee2e6; background: #f8f9fa;">
                            <div class="meal-time-header">
                                <span class="meal-time-title">ğŸŒ™ ì €ë… (ì˜ˆì •)</span>
                                <span class="meal-calories">ì¶”ì²œ 350 kcal</span>
                            </div>
                            <div class="meal-items" style="color: #6c757d;">ì•„ì§ ì‹ì‚¬ ì „ì…ë‹ˆë‹¤</div>
                        </div>

                        <div class="meal-time-slot" style="border: 2px dashed #dee2e6; background: #f8f9fa;">
                            <div class="meal-time-header">
                                <span class="meal-time-title">ğŸª ê°„ì‹</span>
                                <span class="meal-calories">- kcal</span>
                            </div>
                            <div class="meal-items" style="color: #6c757d;">ê°„ì‹ ì—†ìŒ</div>
                        </div>
                    </div>

                    <div class="alert warning" style="margin-top: 20px;">
                        ğŸ’¡ <strong>ì˜ì–‘ì‚¬ ì¡°ì–¸</strong><br>
                        ì˜¤ëŠ˜ ë‚˜íŠ¸ë¥¨ ì„­ì·¨ëŸ‰ì´ ë†’ì•„ìš” (3,200mg / ëª©í‘œ 2,000mg). ì €ë…ì—ëŠ” ì €ì—¼ ì‹ë‹¨ì„ ì¶”ì²œë“œë ¤ìš”!
                    </div>

                    <div style="background: #f8f9fa; padding: 15px; border-radius: 15px; margin-top: 15px;">
                        <h4 style="margin-bottom: 10px; color: #495057;">ì£¼ê°„ í‰ê·  ë¹„êµ</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div style="background: white; padding: 12px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 20px; font-weight: bold; color: #667eea;">1,850</div>
                                <div style="font-size: 12px; color: #6c757d;">í‰ê·  ì¹¼ë¡œë¦¬</div>
                            </div>
                            <div style="background: white; padding: 12px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 20px; font-weight: bold; color: #28a745;">5/7</div>
                                <div style="font-size: 12px; color: #6c757d;">ëª©í‘œ ë‹¬ì„± ì¼ìˆ˜</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í”„ë¡œí•„ í™”ë©´ -->
            <div class="screen" id="profile">
                <div class="family-selector" style="margin-bottom: 20px;">
                    <div class="family-members-scroll">
                        <span class="member-pill active" onclick="showProfile(this, 'mother')">ğŸ‘µ ì–´ë¨¸ë‹ˆ</span>
                        <span class="member-pill" onclick="showProfile(this, 'father')">ğŸ‘¨ ì•„ë²„ì§€</span>
                        <span class="member-pill" onclick="showProfile(this, 'wife')">ğŸ‘© ë©°ëŠë¦¬</span>
                    </div>
                    <button class="dropdown-btn" onclick="openMemberModal()">+</button>
                </div>

                <div id="profileContent">
                    <div class="profile-card">
                        <div class="profile-header">
                            <div>
                                <div class="profile-name">ğŸ‘µ ê¹€ì˜í¬</div>
                                <div style="font-size: 14px; color: #6c757d; margin-top: 5px;">72ì„¸ Â· ì—¬ì„±</div>
                            </div>
                            <div class="profile-icon">ğŸ‘µ</div>
                        </div>

                        <div class="profile-info-grid">
                            <div class="info-box">
                                <div class="info-box-title">ğŸ“ ë§Œì„±ì§ˆí™˜</div>
                                <div class="info-box-content">ì œ2í˜• ë‹¹ë‡¨ë³‘ (10ë…„ì°¨)</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸ’Š ë³µìš© ì•½ë¬¼</div>
                                <div class="info-box-content">ë©”íŠ¸í¬ë¥´ë¯¼ 500mg (í•˜ë£¨ 2íšŒ)</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸš« ì•Œë ˆë¥´ê¸°</div>
                                <div class="info-box-content">ìƒˆìš°, ê²Œ, ì¡°ê°œë¥˜</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸ½ï¸ ì‹ì´ ì œí•œ</div>
                                <div class="info-box-content">ì €ì—¼ì‹, ë‹¹ë¥˜ ì œí•œ, í˜ˆë‹¹ê´€ë¦¬</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸ¯ ì¼ì¼ ëª©í‘œ</div>
                                <div class="info-box-content">ì¹¼ë¡œë¦¬: 1,800 kcal Â· ë‚˜íŠ¸ë¥¨: 2,000mg ì´í•˜</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸƒ í™œë™ ìˆ˜ì¤€</div>
                                <div class="info-box-content">ë‚®ìŒ (ì£¼ 3íšŒ ì‚°ì±… 30ë¶„)</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">âŒš ì—°ë™ ê¸°ê¸°</div>
                                <div class="info-box-content">ê°¤ëŸ­ì‹œ ì›Œì¹˜ 5 Â· í˜ˆë‹¹ì¸¡ì •ê¸°</div>
                            </div>

                            <div class="info-box">
                                <div class="info-box-title">ğŸ“Š ìµœê·¼ í˜ˆë‹¹</div>
                                <div class="info-box-content">ê³µë³µ 125 mg/dL Â· ì‹í›„ 160 mg/dL</div>
                            </div>
                        </div>

                        <button class="btn btn-primary" style="margin-top: 15px;">
                            âœï¸ í”„ë¡œí•„ ìˆ˜ì •í•˜ê¸°
                        </button>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; margin-top: 15px;">
                        <h4 style="margin-bottom: 15px; color: #495057;">âš™ï¸ ì„¤ì •</h4>
                        <div style="padding: 12px; background: white; border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                            ğŸ“± ì›¨ì–´ëŸ¬ë¸” ë””ë°”ì´ìŠ¤ ì—°ë™
                        </div>
                        <div style="padding: 12px; background: white; border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                            ğŸ”” ì•Œë¦¼ ì„¤ì •
                        </div>
                        <div style="padding: 12px; background: white; border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                            ğŸ‘¨â€âš•ï¸ ì˜ì–‘ì‚¬ ìƒë‹´ ì‹ ì²­
                        </div>
                        <div style="padding: 12px; background: white; border-radius: 10px; cursor: pointer;">
                            ğŸ’³ êµ¬ë… ê´€ë¦¬ (í”„ë¦¬ë¯¸ì—„ í”Œëœ)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê°€ì¡± êµ¬ì„±ì› ì¶”ê°€ ëª¨ë‹¬ -->
    <div class="modal" id="memberModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ê°€ì¡± êµ¬ì„±ì› ì¶”ê°€</h3>
                <button class="modal-close" onclick="closeMemberModal()">Ã—</button>
            </div>
            <div class="input-group">
                <label>ê´€ê³„</label>
                <select id="newMemberRelation">
                    <option>ìë…€1</option>
                    <option>ìë…€2</option>
                    <option>ìë…€3</option>
                    <option>ë°°ìš°ì</option>
                    <option>ë¶€ëª¨ë‹˜</option>
                    <option>ì¡°ë¶€ëª¨ë‹˜</option>
                    <option>ê¸°íƒ€</option>
                </select>
            </div>
            <div class="input-group">
                <label>ì´ë¦„</label>
                <input type="text" id="newMemberName" placeholder="ì´ë¦„ ì…ë ¥">
            </div>
            <div class="input-group">
                <label>ë‚˜ì´</label>
                <input type="number" id="newMemberAge" placeholder="ë‚˜ì´ ì…ë ¥">
            </div>
            <button class="btn btn-primary" onclick="addMember()">ì¶”ê°€í•˜ê¸°</button>
        </div>
    </div>

    <script>
        let ingredients = [
            { name: 'ë‹­ê°€ìŠ´ì‚´', amount: 400, unit: 'g' },
            { name: 'ë¸Œë¡œì½œë¦¬', amount: 1, unit: 'ê°œ' },
            { name: 'ë‹¹ê·¼', amount: 2, unit: 'ê°œ' },
            { name: 'ì–‘íŒŒ', amount: 3, unit: 'ê°œ' },
            { name: 'ê³„ë€', amount: 6, unit: 'ê°œ' }
        ];

        let currentMember = 'mother';
        let selectedRecipe = null;

        function showScreen(screenName) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(screenName).classList.add('active');
            event.target.classList.add('active');
        }

        function simulateScan() {
            const scanResult = document.getElementById('scanResult');
            const cameraBox = document.querySelector('.camera-box');
            
            cameraBox.style.background = '#d4edda';
            cameraBox.innerHTML = '<div style="font-size: 50px;">âœ“</div><h3 style="color: #155724;">ë¶„ì„ ì¤‘...</h3>';
            
            setTimeout(() => {
                scanResult.style.display = 'block';
                scanResult.scrollIntoView({ behavior: 'smooth' });
            }, 1500);
        }

        function handleImageUpload(event) {
            if (event.target.files && event.target.files[0]) {
                simulateScan();
            }
        }

        function addIngredient() {
            const name = document.getElementById('ingredientName').value;
            const amount = document.getElementById('ingredientAmount').value;
            const unit = document.getElementById('ingredientUnit').value;

            if (!name || !amount) {
                alert('ì¬ë£Œ ì´ë¦„ê³¼ ìˆ˜ëŸ‰ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            ingredients.push({ name, amount: parseFloat(amount), unit });

            const ingredientsList = document.querySelector('.ingredients-list');
            const newItem = document.createElement('div');
            newItem.className = 'ingredient-item';
            newItem.innerHTML = `
                <div style="display: flex; align-items: center; flex: 1;">
                    <div class="ingredient-check">âœ“</div>
                    <span>${name}</span>
                </div>
                <span style="color: #667eea; font-weight: bold;">${amount}${unit}</span>
            `;
            ingredientsList.appendChild(newItem);

            document.getElementById('ingredientName').value = '';
            document.getElementById('ingredientAmount').value = '';
            
            alert(`${name} ${amount}${unit}ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }

        function selectMember(element, member) {
            document.querySelectorAll('.member-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            element.classList.add('active');
            currentMember = member;
            
            // ì„ íƒí•œ êµ¬ì„±ì›ì— ë”°ë¼ ê¸°ë³¸ê°’ ë³€ê²½ ê°€ëŠ¥
            if (member === 'mother') {
                document.getElementById('lunch').value = 'ì‚¼ê²¹ì‚´ 200g, ì†Œì£¼ 2ì”';
            } else if (member === 'wife') {
                document.getElementById('lunch').value = 'ìƒŒë“œìœ„ì¹˜';
            }
        }

        function generateRecommendation() {
            const recommendationArea = document.getElementById('recommendationArea');
            recommendationArea.style.display = 'block';
            recommendationArea.scrollIntoView({ behavior: 'smooth' });
        }

        function selectRecipe(element, recipeId) {
            document.querySelectorAll('.recipe-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedRecipe = recipeId;
            
            document.getElementById('selectedRecipeDetail').style.display = 'block';
            document.getElementById('selectedRecipeDetail').scrollIntoView({ behavior: 'smooth' });
        }

        function showDiary(element, member) {
            document.querySelectorAll('#diary .member-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            element.classList.add('active');
            
            // ê° êµ¬ì„±ì›ë³„ ë‹¤ë¥¸ ë°ì´í„° í‘œì‹œ ê°€ëŠ¥
            alert(`${member}ì˜ ì‹ì‚¬ ê¸°ë¡ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.`);
        }

        function showProfile(element, member) {
            document.querySelectorAll('#profile .member-pill').forEach(pill => {
                pill.classList.remove('active');
            });
            element.classList.add('active');
            
            // ê° êµ¬ì„±ì›ë³„ ë‹¤ë¥¸ í”„ë¡œí•„ í‘œì‹œ ê°€ëŠ¥
            alert(`${member}ì˜ í”„ë¡œí•„ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.`);
        }

        function openMemberModal() {
            document.getElementById('memberModal').classList.add('active');
        }

        function closeMemberModal() {
            document.getElementById('memberModal').classList.remove('active');
        }

        function addMember() {
            const relation = document.getElementById('newMemberRelation').value;
            const name = document.getElementById('newMemberName').value;
            const age = document.getElementById('newMemberAge').value;

            if (!name || !age) {
                alert('ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            alert(`${relation} ${name}(${age}ì„¸)ì´(ê°€) ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            closeMemberModal();
            
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ìƒˆ êµ¬ì„±ì›ì„ ëª©ë¡ì— ì¶”ê°€
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('memberModal');
            if (event.target === modal) {
                closeMemberModal();
            }
        }
    </script>
</body>
</html>
